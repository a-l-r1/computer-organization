## UART 控制模块

### 原理

UART 控制模块是通过使用 FPGA 上自带的 UART 协议相关端口，实现 UART 上的协议从而能够让 FPGA 与外界沟通的模块。UART 上的协议是串行通信的，利用串行的相关协议。

具体的 UART 控制模块是使用现成的 MiniUART 模块，只需要做少量的修改。具体的原理在 MiniUART 模块的文档中。

### 端口定义

端口 | 类型 | 位宽 | 功能
--- | --- | --- | ---
`CLK_I` | 输入 | 1 | 时钟信号
`DAT_I` | 输入 | 32 | 要向内部寄存器写入的数据
`DAT_O` | 输出 | 32 | 要从内部寄存器读出的数据
`RST_I` | 输入 | 1 | 同步复位信号
`ADD_I` | 输入 | 3 | 内部地址输入
`STB_I` | 输入 | 1 | 有读写操作
`WE_I` | 输入 | 1 | 写使能
`ACK_O` | 输出 | 1 | 输出响应信号
`RxD` | 输入 | 1 | UART 输入信号
`TxD` | 输出 | 1 | UART 输出信号
`IRQ_data_complete` | 输出 | 1 | 数据传送完成的 IRQ

### 宏定义

类别 | 定义 | 值 | 意义
--- | --- | --- | ---
偏移 | `OFF_UART_.*` | `'h0` | 内部数据寄存器偏移
时钟信息 | `CLK_FRQ` | `35000000` | FPGA 时钟频率
时钟信息 | `CYCLE` | `1000000000` | 每秒时钟周期数
采样 | `SAMPLE_FREQUENCE` | `8` | 每个字节的采样数
采样 | `HALF_BIT` | `(SAMPLE_FREQUENCE/2-1)` | 输出半个字节计数器的阈值
波特率 | `BAUD_RCV_.*` | `(CLK_FRQ/(.* *SAMPLE_FREQUENCE)-1)` | 在相应波特率下接收每个比特的计数器的阈值
波特率 | `BAUD_SND_.*` | `(CLK_FRQ/(.*)-1)` | 在相应波特率下输出每个字节的计数器的阈值

### 功能

具体的功能在 MiniUART 模块的文档中。

### 注意事项

1. **MiniUART 实际上是现成的代码。**

