## CPU

### 原理

CPU 是宏观部件，主要连接起数据通路和控制。该部件主要起的是宏观功能，也就是读取指令并完成计算。但是，为了更好地和外部设备通信，CPU 和 `bridge` 模块相连接，通过除了时钟信号的其它输入输出端口与外部设备通信。

### 端口定义

端口 | 类型 | 位宽 | 功能
--- | --- | --- | ---
`clk` | 输入 | 1 | 时钟信号
`rst` | 输入 | 1 | 复位信号
`cpu_read_result` | 输入 | 32 | CPU 从设备得到的读取结果
`hwirq` | 输入 | 6 | 设备的中断信号
`cpu_addr` | 输出 | 32 | CPU 要对设备相应寄存器操作的地址
`dev_write_enable` | 输出 | 1 | CPU 对设备的写使能信号
`cpu_write_data` | 输出 | 32 | CPU 要对设备写入的数据

### 接线

按照数据通路和控制部分的定义进行接线。数据通路中的接线方式在数据通路部分的文档中描述，控制部分按照控制部分的文档中描述。控制部分控制数据通路的哪部分，在控制部分的文档中。

### 功能

CPU 需要的外部数据输入是极少的，只有时钟信号、必要的其它信号和指令文件。

### 注意事项

1. 对部件分级是个好习惯，在流水线 CPU 时会有用。

