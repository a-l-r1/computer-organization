## PC

### 原理

PC 是程序计数器的意思，负责对当前的指令进行计数。它是标记程序执行到哪里的一种方法，同时输出的信息也被送入指令内存 IM，用来取指。

PC 只负责表示程序执行到哪里，而 PC 的更新由 NPC 模块负责。这样可以做到更简便地处理跳转指令、也对流水线 CPU 插入气泡有帮助。

### 端口定义

端口 | 类型 | 位宽 | 功能
--- | --- | --- | ---
`clk` | 输入 | 1 | 时钟信号
`next_pc` | 输入 | 32 | NPC 计算得来的下一个 PC 地址
`enable` | 输入 | 1 | PC 使能
`curr_pc` | 输出 | 32 | PC 地址

### 宏定义

用把宏定义成宏的方法，定义表中值为宏的宏。值为宏的宏的意义，与定义它的宏一样，在表中省略。

类别 | 定义 | 值 | 意义
--- | --- | --- | ---
`enable` | `PC_ENABLED` | 1'b1 | PC 使能
`enable` | `PC_ENABLE` | `PC_ENABLED` | 
`enable` | `PC_DISABLED` | 1'b0 | PC 非使能
`enable` | `PC_DISABLE` | `PC_DISABLED` | 

### 功能

该部件是时序部件。

有一个 32 位的寄存器保存当前 PC 的值，初值为 32'b0。

在每个时钟上升沿，若 `enable == PC_ENABLED`，则把 PC 部件中保存的当前 PC 的值更新成 `next_pc` 的值。否则，保存的当前 PC 的值不变。

无论什么时候，输出端口 `curr_pc` 的值都是 PC 部件中保存的当前 PC 的值。

