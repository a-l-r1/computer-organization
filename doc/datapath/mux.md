## MUX

### 功能

MUX 是多路选择器的意思，是从多个数据源中选择数据的部件。其实它也是数据通路和控制之间的接口，控制部件通过 MUX 来控制数据的流向，实现指令的功能。

### 类别

MUX 有多个类别。有 2 路 MUX、3 路 MUX 以至于多路 MUX。实际上，在单周期 CPU 中只能用到路数比较少的 MUX，多路的 MUX 要等到流水线 CPU 的时候才能用。

### 命名

由于 MUX 有多个类别，所以它也有多个 `module`，也有多个命名。_n_ 路 MUX 命名为 `mux`_n_。

### 宏定义

暂无

但是仍然保留 `mux.h` 宏文件并填入模版，以备以后使用。

### 参数定义

参数 | 默认值 | 功能
--- | --- | ---
`BIT_WIDTH` | 32 | 输入和输出数据的位宽

### 端口定义

端口 | 类型 | 位宽 | 功能
--- | --- | --- | ---
`control` | 输入 | _见注 1_ | 输入控制信号
`result` | 输出 | `BIT_WIDTH` | 输出数据
`input`_n_ | 输入 | `BIT_WIDTH` | _见注 2_

注：
1. 输入控制信号的位宽如下计算：有 _n_ 个输入信号，就取最小的使 _2^width_ 能够超过 _n_ 的 _width_，这就是 `control` 的位宽。
2. 功能是输入端口，但是个数有 _n_ 个。输入端口**从 0 开始计数**。

### 功能

若 `control` 的值为 _width_`'d`_n_，则令 `result` 的值为 `input`_n_ 的值。但是若 _n_ 超出了 MUX 的输入端口个数（即路数）或 _n_ 为其它值，则令 `result` 的值为 `input0` 的值。

### 注意事项

1. `BIT_WIDTH` 默认为 32，是因为一般传送的数据都是 32 位的。
2. 接线时端口顺序**按照数据通路部分最终总结出来的接线表格中指定的顺序来！**
3. **_n_ 为其他值可能是 `x` 或 `z`！**

